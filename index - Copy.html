<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Character Encoding -->
			<meta charset="UTF-8">

		<!-- Basic Metadata -->
			<meta name="version" content="0.0.1">
			<meta name="author" content="JOTUNN">

		<!-- Variable Metadata -->
			<title>Index</title>
			<meta name="description" content>
			<meta name="keywords" content>

			<link rel="icon" type="image/x-icon" href="app/media/meta.favicon.ico">
			<link rel="icon" type="image/png" href="app/media/meta.favicon.196.png" sizes="196x196">
			<link rel="apple-touch-icon-precomposed" href="app/media/meta.favicon.152.png" sizes="152x152" >
			<meta name="msapplication-square310x310logo" content="app/media/meta.favicon.310.png">

			<meta property="og:title" content>
			<meta property="og:image" content>
			<meta property="og:description" content>
			<meta property="og:url" content>

		<!-- Device Rendering -->
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<meta name="apple-mobile-web-app-capable" content="yes">
			<meta name="mobile-web-app-capable" content="yes">

		<!-- Device & App Manifests -->
			<link rel="manifest" href="app/config/manifest.json">
			<link rel="manifest prefetch" href="app/config/app.json">

		<!-- Base CSS -->
			<style>
				:root
				{
					--text-selection-bg: transparent;
					--text-selection-color: inherit;
					--text-selection-outline-color: #fa0;
					--text-selection-text-outline: var(--text-selection-outline-color) 1px 1px 0, var(--text-selection-outline-color) 1px -1px 0, var(--text-selection-outline-color) -1px 1px 0,  var(--text-selection-outline-color) -1px -1px 0;

					--nav-icon-link: #000;
					--nav-icon-active: #000;
					--nav-menu-color: #000;
					--nav-menu-bg: #fff;
					
					--dialog-bg: #fff;
					--dialog-color: #222;
					--dialog-shadow: rgba(0,0,0,.05) 0 0 25px;
				}

				::-moz-selection
				{
					background: transparent;

					color: var(--text-selection-color);
					text-shadow: var(--text-selection-text-outline);
				}

				::selection
				{
					background: transparent;

					color: var(--text-selection-color);
					text-shadow: var(--text-selection-text-outline);
				}

				*
				{
					-webkit-tap-highlight-color: transparent;

					position: relative;
				}

				html,
				body
				{
					background: #fff;
					transition: all .5s ease;

					font-family: sans-serif;

					margin: 0;
					padding: 0;

					height: 100%;
					width: 100%;
				}

				html main
				{
					opacity: 0;
					transition: all .5s ease;

					align-items: center;
					display: flex;
					flex-direction: column;
					justify-content: center;

					min-height: 100%;
					height: auto;
				}

				html.loaded:not(.loading) main
				{
					opacity: 1;
				}

				a
				{
					box-shadow: none;

					border: none;
					outline: 0;
				}

				/* Handheld Menu Trigger */
					.app.nav-trigger
					{
						background: #fff;
						box-shadow: #fff 0 0 .1px 2px;
						border-radius: 100%;
						cursor: pointer;
						transition: all .25s ease;
						transform: translateX(-50%);

						border: var(--nav-icon-link) solid 3px;
						box-sizing: border-box;
						display: inline-block;
						outline: none;
						overflow: hidden;
						position: fixed;
						 bottom: 5vmin;
						 left: 50%;
						 z-index: 101;

						height: 48px;
						width: 48px;
					}

					.app.nav-trigger:focus,
					.app.nav-trigger:hover
					{
						opacity: 1;
					}

					html.nav .app.nav-trigger
					{
						transform: translateX(-50%);

						color: var(--nav-icon-active);

						border-color: var(--nav-icon-active);
					}

					.app.nav-trigger hr
					{
						backface-visibility: hidden;
						background: var(--nav-icon-link);
						transition: all .25s ease;
						transform: translate(-50%,-50%);

						border: none;
						display: inline-block;
						margin: 0;
						position: absolute;
						 top: 50%;
						 left: 50%;

						height: 3px;
						width: 66%;

						pointer-events: none;
					}

					.app.nav-trigger hr:nth-of-type(2),
					.app.nav-trigger hr:nth-of-type(4)
					{
						z-index: 1;
					}

					.app.nav-trigger hr:nth-of-type(1),
					.app.nav-trigger hr:nth-of-type(3)
					{
						z-index: 2;

						width: 50%;
					}

					.app.nav-trigger hr:nth-of-type(1)
					{
						margin-top: 8px;
					}

					.app.nav-trigger hr:nth-of-type(3)
					{
						margin-top: -8px;
					}

					html.nav .app.nav-trigger hr
					{
						background: var(--nav-icon-active);

						margin-top: 0;
					}

					html.nav .app.nav-trigger hr:nth-of-type(1),
					html.nav .app.nav-trigger hr:nth-of-type(3)
					{
						opacity: 0;

						width: 0;
					}

					html.nav .app.nav-trigger hr:nth-of-type(2)
					{
						transform: translate(-50%,-50%) rotate(-45deg);
					}

					html.nav .app.nav-trigger hr:nth-of-type(4)
					{
						transform: translate(-50%,-50%) rotate(45deg);
					}

				/* Handheld Menu */
					.app[role~="navigation"]
					{
						backdrop-filter: blur(3px);
						background: var(--nav-menu-bg);
						opacity: 0;
						transition: all .25s ease;

						color: var(--nav-menu-color);

						align-items: center;
						box-sizing: border-box;
						display: flex;
						flex-flow: column nowrap;
						justify-content: center;
						padding: 5vmin 5vmin calc(12vmin + 48px);
						position: fixed;
						 top: 0;
						 left: 0;
						 z-index: -1;

						height: 100%;
						width: 100%;
					}

					html.nav .app[role~="navigation"]
					{
						opacity: 1;

						z-index: 100;
					}

					.app[role~="navigation"] a
					{
						backface-visibility: hidden;
						opacity: .75;
						transition: all .25s ease;

						color: var(--nav-menu-color);
						font-size: 1.4em;
						font-weight: 400;
						letter-spacing: .25em;
						line-height: 1.1;
						text-align: center;
						text-decoration: none;
						text-transform: uppercase;

						display: inline-block;
						flex: 0 1 auto;
						margin: 0 0 1em;

						width: 100%;
					}

					.app[role~="navigation"] a:last-of-type
					{
						margin-bottom: 0 !important;
					}

					.app[role~="navigation"] a:focus,
					.app[role~="navigation"] a:hover
					{
						opacity: 1;
						transform: scale(1.2);
					}
				
				/* Dialogs */
					[role~="dialog"]
					{
						background: var(--dialog-bg);
						opacity: 0;
						transition: all .25s ease;

						color: var(--dialog-color);
						letter-spacing: .02em;
						text-align: left;
						
						align-items: stretch;
						border: var(--subdued) solid 0;
						display: flex;
						flex-direction: column;
						margin: 0;
						padding: 0;
						position: fixed;
						 top: 0;
						 left: 0;
						 z-index: 110;

						height: 100%;
						width: 100%;
					}

					[role~="dialog"][open]
					{
						opacity: 1;
					}

					html:not(.airlock) [role~="dialog"],
					html.airlock main,
					html.airlock .app-nav,
					html.airlock .nav-trigger
					{
						pointer-events: none;
					}

					[role~="dialog"] header
					{
						transition: all .25s ease;
						
						text-transform: uppercase;

						box-sizing: border-box;
						display: block;
						flex: 0 1 auto;
						justify-self: flex-start;
						overflow: hidden;
						padding: 4px calc(100% / 6) 4px 20px;
					}

					[role~="dialog"] header h1,
					[role~="dialog"] header h2,
					[role~="dialog"] header h3
					{
						margin: 0;
					}
					
					[role~="dialog"] section.content
					{
						text-align: left;
						
						box-sizing: border-box;
						display: block;
						flex: 0 1 auto;
						flex-direction: column;
						overflow: hidden;
						overflow-y: auto;
						-webkit-overflow-scrolling: touch;
						padding: 20px;

						max-height: 100%;
					}
					
					@media screen and (min-width: 1024px)
					{
						[role~="dialog"]
						{
							box-shadow: var(--dialog-shadow);
							transform: translate(-50%,-50%);

							border-width: 2px;
							padding: 2vmin;
							position: fixed;
							 top: 50%;
							 left: 50%;

							height: auto;
							max-height: 75vh;
							width: 75vw;
						}
					}
					
				/* Dialog Close Buttons */
					[role~="dialog"] [data-name~="close-button"]
					{
						cursor: pointer;
						-webkit-tap-highlight-color: transparent;
						tap-highlight-color: transparent;
						transition: all .25s ease;

						font: 700 0/1 sans-serif;
						vertical-align: middle;

						box-sizing: border-bpx;
						display: inline-block;
						padding: 10px;
						position: absolute;
						 top: 0;
						 right: 0;
						 z-index: 113;
					}

					[role~="dialog"] [data-name~="close-button"]:before
					{
						font-size: 40px;
						line-height: 1;

						content: "\00d7";
					}

				/* Error Pages */
					.http-error h1,
					.http-error p
					{
						text-align: center;
						text-transform: uppercase;

						margin: 0 auto;
					}

					.http-error h1
					{
						opacity: .25;

						font-size: 3em;
						font-weight: 900;
						letter-spacing: 2vmin;
					}

					.http-error p
					{
						font-size: 3em;
					}
			</style>

		<!-- App Library -->
			<script>
				"use strict";

				window.App = window.App || false;

				if(typeof Symbol == "undefined") throw "Experience unsupported on this browser or device: ES6 feature support restricted or unavailable.";

				else (function(net)
				{
					let appManifest = document.querySelector("[rel~='manifest'][href$='app.json']").href;

					net.addEventListener("load", function(event)
					{
						switch(event.target.status)
						{
							case 200:
								try
								{
									window.App = JSON.parse(net.response);
									App.track = {};
								}

								catch(error)
								{
									throw "Manifest data could not be parsed: malformed or invalid syntax.";
								}

								if(typeof window.App !== "object") throw "window.app is protected or manifest parse failed.";

								else
								{
									/* Custom Events Array */
										App.eventListeners = [];

									/* App Variable Bin */
										App.bin = {};

									/* App Detection */
										App.detect = {};

										App.detect.debug = (function(status)
										{
											if(location.search && location.search.toLowerCase() === "?debug") status = true;

											return status;
										})(false);

										App.detect.localhost = (function(status)
										{
											let patterns = [
												/^10\./,
												/^127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-8]{1,3}/,
												/^172\.1[6-9]|2[0-9]|3[0-1]\./,
												/^192\.168\./,
												/^localhost$/i,
												/\.(local|localdomain|localhost)$/i
											];
											
											patterns.forEach(function(pattern)
											{
												if(pattern.test(location.hostname)) status = true;
												
												return;
											});
											
											return status;
										})(false);

									/* App Feature Functionality */
										App.features = {};

										App.features.createEventListener = function(eventListener)
										{
											App.eventListeners[eventListener] = new Event(eventListener, {
												bubbles: 1,
												cancelable: 1
											});

											App.eventListeners[eventListener].initEvent(eventListener, true, true);
										};
										
										App.features.serializeArray = function(object,query)
										{
											var string = [];
 
											for(var property in object) if(object.hasOwnProperty(property)) string.push(encodeURIComponent(property) + "=" + encodeURIComponent(object[property]));

											string = string.join("&");

											if(query) string = "?" + string;

											return string;
										};

										App.features.extendArray = function()
										{
											var a = {},
											b = false,
											i = 0,
											c = arguments.length;

											if(Object.prototype.toString.call(arguments[0]) === "[object Boolean]")
											{
												b = arguments[0];

												i++;
											}

											var d = function(e)
											{
												for(var f in e) if(Object.prototype.hasOwnProperty.call(e, f)) a[f] = (b && Object.prototype.toString.call(e[f]) === "[object Object]") ? __extend(true, a[f], e[f]) : e[f];
											};

											for(; i < c; i++)
											{
												var e = arguments[i];

												d(e);
											}

											return a;
										};

										App.features.checkSitemap = function(needle)
										{
											let type = (isNaN(needle)) ? "string" : "number",
											exists = false;

											App.sitemap.forEach(function(entry,index)
											{
												if(entry.path) switch(type)
												{
													case "number":
														if(index == needle) exists = true;

														break;

													case "string":
														if(entry.name && entry.name.toLowerCase() === needle.toLowerCase()) exists = true;

														break;
												}
											});

											return exists;
										};

										[
											"loadStylesheet"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.features.loadStylesheet = function(settings)
										{
											let defaultSettings = {
												uri: null,
												classes: []
											};

											settings = App.features.extendArray(defaultSettings,settings);
											settings.classes = (typeof settings.classes === "string") ? [settings.classes] : (typeof settings.classes === "object") ? settings.classes : [];

											[
												"css",
												"asset"
											].forEach(function(classe)
											{
												settings.classes.push(classe);
											});

											let filename = settings.uri.split("/").slice(-1)[0],
											duplicate = (document.querySelector("link.css.asset[id*='" + filename + "']")) ? document.querySelector("link.css.asset[id*='" + filename + "']") : null,
											net = new XMLHttpRequest();

											net.addEventListener("load", function(event)
											{
												let version = new Date(net.getResponseHeader("Last-Modified")).getTime();
												version = (version == 0) ? new Date().getTime() : version;

												net = new XMLHttpRequest();

												net.addEventListener("load", function(event)
												{
													switch(event.target.status)
													{
														case 200:
															let element = document.createElement("link");
															element.rel = "stylesheet";
															element.href = settings.uri + "?version=" + version;
															element.id = filename;

															let setPageID = function()
															{
																if(!App.track.filepath) window.requestAnimationFrame(setPageID);
																else element.setAttribute("data-name", App.track.filepath);
															}

															setPageID();

															settings.classes.forEach(function(classe)
															{
																element.classList.add(classe);
															});

															document.head.appendChild(element);

															if(duplicate) window.setTimeout(function()
															{
																duplicate.remove();
															}, 25);

															App.eventListeners.loadStylesheet.success = true;
															App.eventListeners.loadStylesheet.href = settings.uri;

															document.dispatchEvent(App.eventListeners.loadStylesheet);

															break;

														case 404:
															App.eventListeners.loadStylesheet.success = false;
															App.eventListeners.loadStylesheet.href = settings.uri;

															document.dispatchEvent(App.eventListeners.loadStylesheet);

															console.warn("Could not load stylesheet \"" + filename +  "\": file not found.");

															break;

														default:
															App.eventListeners.loadStylesheet.success = false;
															App.eventListeners.loadStylesheet.href = settings.uri;

															document.dispatchEvent(App.eventListeners.loadStylesheet);

															console.warn("Could not load stylesheet \"" + filename +  "\": unknown network error.");

															break;
													}
												});

												net.addEventListener("error", function(event)
												{
													App.eventListeners.loadStylesheet.success = false;
													App.eventListeners.loadStylesheet.href = settings.uri;

													document.dispatchEvent(App.eventListeners.loadStylesheet);

													console.warn("Could not load stylesheet \"" + filename +  "\": unknown network error.");
												});

												net.open("GET", settings.uri + "?version=" + version, true);
												net.setRequestHeader("Content-Type", "text/css; charset=utf-8");
												net.setRequestHeader("Accept", "text/css");
												net.send();
											});

											net.addEventListener("error", function(event)
											{
												console.warn("Page load failed: local network error.");
											});

											net.open("HEAD", settings.uri, true);
											net.send();
										};

										[
											"loadScript"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.features.loadScript = function(settings)
										{
											let defaultSettings = {
												uri: null
											};

											settings = App.features.extendArray(defaultSettings,settings);

											let filename = settings.uri.split("/").slice(-1)[0];

											if(document.querySelector("script.js.asset[id='" + filename + "']"))
											{
												console.warn("Script load aborted: \"" + filename + "\" already exists.");

												return;
											}

											let net = new XMLHttpRequest();

											net.addEventListener("load", function(event)
											{
												let version = new Date(net.getResponseHeader("Last-Modified")).getTime();
												version = (version == 0) ? new Date().getTime() : version;

												net = new XMLHttpRequest();

												net.addEventListener("load", function(event)
												{
													switch(event.target.status)
													{
														case 200:
															let element;

															element = document.createElement("script");
															element.src = settings.uri + "?version=" + version;
															element.async = true;
															element.id = filename;
															element.classList.add("js");
															element.classList.add("asset");

															document.head.appendChild(element);

															App.eventListeners.loadScript.success = true;
															App.eventListeners.loadScript.href = settings.uri;

															document.dispatchEvent(App.eventListeners.loadScript);

															break;

														case 404:
															App.eventListeners.loadScript.success = false;
															App.eventListeners.loadScript.href = settings.uri;

															document.dispatchEvent(App.eventListeners.loadScript);

															console.warn("Could not load script \"" + filename +  "\": file not found.");

															break;

														default:
															App.eventListeners.loadScript.success = false;
															App.eventListeners.loadScript.href = settings.uri;

															document.dispatchEvent(App.eventListeners.loadScript);

															console.warn("Could not load script \"" + filename +  "\": unknown network error.");

															break;
													}
												});

												net.addEventListener("error", function(event)
												{
													App.eventListeners.loadScript.success = false;
													App.eventListeners.loadScript.href = settings.uri;

													document.dispatchEvent(App.eventListeners.loadScript);

													console.warn("Could not load script \"" + filename +  "\": unknown network error.");
												});

												net.open("GET", settings.uri + "?version=" + version, true);
												net.setRequestHeader("Content-Type", "application/javascript; charset=utf-8");
												net.setRequestHeader("Accept", "application/javascript");
												net.send();
											});

											net.addEventListener("error", function(event)
											{
												console.warn("Page load failed: local network error.");
											});

											net.open("HEAD", settings.uri, true);
											net.send();
										};

										[
											"executeScript"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.features.executeScript = function(target)
										{
											App.eventListeners.executeScript.success = false;

											try
											{
												eval(target.innerHTML);

												App.eventListeners.executeScript.success = true;
											}

											catch(error)
											{
												throw "Script data could not be parsed: malformed or invalid syntax.";
											}
										};

										[
											"navigate"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.features.loadPage = function(needle)
										{
											let preconfigured = {
												401: {
													"path": "/401",
													"template": "app-error-page-401",
													"error": 1
												},
												403: {
													"path": "/403",
													"template": "app-error-page-403",
													"error": 1
												},
												404: {
													"path": "/404",
													"template": "app-error-page-404",
													"error": 1
												},
												418: {
													"path": "/418",
													"template": "app-error-page-418",
													"error": 1
												},
												426: {
													"path": "/426",
													"template": "app-error-page-426",
													"error": 1
												},
												451: {
													"path": "/451",
													"template": "app-error-page-451",
													"error": 1
												}
											};

											let type = (isNaN(needle)) ? "string" : "number",
											queries = needle.split("?"),
											queryString =  null,
											page = false,
											duration = (/^0\./.test(getComputedStyle(document.documentElement)['transitionDuration'])) ? App.settings.default.navigationTransition : (/ms$/gi.test(getComputedStyle(document.documentElement)['transitionDuration'])) ? parseFloat(getComputedStyle(document.documentElement)['transitionDuration'].replace(/ms$/,"")) : parseFloat(getComputedStyle(document.documentElement)['transitionDuration'].replace(/s$/,"")) * 1000;

											if(queries[1])
											{
												queries.shift();
												queries = (function(obj,rtn)
												{
													obj.forEach(function(q,index)
													{
														q = q.split("=");

														rtn[q[0]] = q[1];
													});

													return rtn;
												})(queries.join("&").split("&"), {});

												queryString = Object.keys(queries).map(key => key + '=' + queries[key]).join('&');
											}

											else queries = null;

											App.sitemap.forEach(function(entry,index)
											{
												if(!entry.path) console.warn("Could not process sitemap entry " + ((entry.name) ? "\"" + entry.name + "\" " : "" ) + "[" + index +  "]: \"path\" pair missing.");

												else switch(type)
												{
													case "number":
														if(index == needle) page = entry;

														break;

													case "string":
														if(entry.name.toLowerCase() === needle.toLowerCase() || entry.path.toLowerCase() === needle.toLowerCase() || (!entry.name && entry.path.toLowerCase() === needle.toLowerCase()) || (/\/\*$/.test(entry.path) && needle.toLowerCase().split("/")[0] === entry.path.toLowerCase().replace(/^\//,"").split("/")[0]))
														{
															page = entry;

															return;
														}
												}
											});

											if(!page)
											{
												console.warn("Could not find page " + ((type === "number") ? "[" + needle + "]" : "\"" + needle + "\"") + ".");

												page = preconfigured["404"];
											}

											document.documentElement.classList.add("loading");

											let net = new XMLHttpRequest();

											net.addEventListener("load", function(event)
											{
												let version = new Date(net.getResponseHeader("Last-Modified")).getTime();
												version = (version == 0) ? new Date().getTime() : version;

												page = (event.target.status === 404) ? preconfigured["404"] : page;

												if(page.filepath)
												{
													let net = new XMLHttpRequest();

													net.addEventListener("load", function(event)
													{
														let content = document.createElement("code");
														content.innerHTML = event.target.response;

														let title = (content.querySelector("title")) ? content.querySelector("title").textContent : null;
														document.title = (!title || title === "" || /^\s+$/.test(title)) ? "Untitled" : content.querySelector("title").textContent;

														if(content.querySelector("title")) content.querySelector("title").remove();

														document.querySelectorAll("meta").forEach(function(meta)
														{
															if(meta.name && /^keywords|description$/gi.test(meta.name)) meta.content = "";
														});

														content.querySelectorAll("meta").forEach(function(meta)
														{
															if(document.querySelector("meta[name='" + meta.name + "']")) document.querySelector("meta[name='" + meta.name + "']").content = meta.content;

															meta.remove();
														});

														if(event.target.status === 404) console.warn("Page load failed: page not found.");

														else
														{
															content.querySelectorAll("link[rel='stylesheet'][href]").forEach(function(link)
															{
																net = new XMLHttpRequest();

																["load","error"].forEach(function(event)
																{
																	net.addEventListener(event, function(event)
																	{
																		switch(event.target.status)
																		{
																			case 200:
																				link.href += "?version=" + new Date(net.getResponseHeader("Last-Modified")).getTime();

																				break;

																			default:
																				link.remove();

																				break;
																		}
																	});
																});

																net.open("HEAD", link.href, true);
																net.send();
															});

															document.head.querySelectorAll("link[rel='stylesheet'][href][data-name]").forEach(function(link)
															{
																if(link.getAttribute("data-name") !== App.track.filepath) link.remove();
															});

															content.querySelectorAll("script").forEach(function(script)
															{
																if(!script.src) App.features.executeScript(script);

																else App.features.loadScript(
																{
																	uri: script.src
																});

																script.remove();
															});
														}

														document.documentElement.id = page.filepath;

														window.setTimeout(function()
														{
															if(!document.querySelector("main")) document.body.innerHTML += "<main role='main'></main>";

															document.querySelector("main").innerHTML = content.innerHTML;

															document.documentElement.classList.add("loaded");

															App.track = page;
															App.eventListeners.navigate.success = (page === preconfigured["404"]) ? false : true;
															App.eventListeners.navigate.location = page;
															App.eventListeners.navigate.queries = queries;
															App.eventListeners.navigate.queryString = queryString;

															window.setTimeout(function()
															{
																document.documentElement.classList.remove("loading");

																history.pushState(null, title, "#" + (/\/\*$/.test(page.path)) ? "#/" + needle + ((queryString) ? "?" + queryString : "") : page.path + ((queryString) ? "?" + queryString : ""));

																document.dispatchEvent(App.eventListeners.navigate);
															}, duration);
														}, duration);
													});

													net.addEventListener("error", function(event)
													{
														console.warn("Page load failed: local network error.");

														window.setTimeout(function()
														{
															document.documentElement.classList.add("loaded");

															App.track = page;
															App.eventListeners.navigate.success = false;
															App.eventListeners.navigate.location = page;
															App.eventListeners.navigate.queries = queries;

															window.setTimeout(function()
															{
																document.documentElement.classList.remove("loading");

																history.pushState(null, title, "#/" + page.path + ((queryString) ? "?" + queryString : ""));

																document.dispatchEvent(App.eventListeners.navigate);
															}, duration);
														}, duration);
													});

													net.open("GET", ((page.error) ? App.settings.paths.defaultContent : App.settings.paths.content) + page.filepath + "?version=" + version, true);
													net.setRequestHeader("Content-Type", "text/html; charset=utf-8");
													net.setRequestHeader("Accept", "text/html");
													net.send();
												}

												else if(page.error)
												{
													let templates = document.querySelector("template[data-name='app-error-pages']");

													if(!templates) console.warn("Page render failed: missing error templates.");

													else
													{
														let content = (function(templates)
														{
															let content = document.createElement("code");
															content.innerHTML = templates;

															let template = content.querySelector("[data-name='" + page.template + "']");

															content.innerHTML = (template) ? template.innerHTML : "<title>001</title><h1>001 Error Template Missing</h1>";

															return content;
														})(templates.innerHTML);

														let title = (content.querySelector("title")) ? content.querySelector("title").textContent : null;
														document.title = (!title || title === "" || /^\s+$/.test(title)) ? "Untitled" : content.querySelector("title").textContent;

														if(content.querySelector("title")) content.querySelector("title").remove();

														document.querySelectorAll("meta").forEach(function(meta)
														{
															if(meta.name && /^keywords|description$/gi.test(meta.name)) meta.content = "";
														});

														document.documentElement.id = page.template;

														window.setTimeout(function()
														{
															if(!document.querySelector("main")) document.body.innerHTML += "<main role='main'></main>";

															document.querySelector("main").innerHTML = content.innerHTML;

															document.documentElement.classList.add("loaded");

															App.track = page;
															App.eventListeners.navigate.success = false;
															App.eventListeners.navigate.location = page;

															window.setTimeout(function()
															{
																document.documentElement.classList.remove("loading");

																history.pushState(null, title, "#" + (/\/\*$/.test(page.path)) ? "#/" + needle : page.path);

																document.dispatchEvent(App.eventListeners.navigate);
															}, duration);
														}, duration);
													}
												}
											});

											net.addEventListener("error", function(event)
											{
												console.warn("Page load failed: local network error.");

												let content = (function(content)
												{
													content.innerHTML = "<title>000 Client Offline</title><h1>000 Client Offline</h1>";

													return content;
												})(document.createElement("code"));

												let title = (content.querySelector("title")) ? content.querySelector("title").textContent : null;
												document.title = (!title || title === "" || /^\s+$/.test(title)) ? "Untitled" : content.querySelector("title").textContent;

												if(content.querySelector("title")) content.querySelector("title").remove();

												document.querySelectorAll("meta").forEach(function(meta)
												{
													if(meta.name && /^keywords|description$/gi.test(meta.name)) meta.content = "";
												});

												document.documentElement.id = page.template;

												window.setTimeout(function()
												{
													if(!document.querySelector("main")) document.body.innerHTML += "<main role='main'></main>";

													document.querySelector("main").innerHTML = content.innerHTML;

													document.documentElement.classList.add("loaded");

													App.track = page;
													App.eventListeners.navigate.success = false;
													App.eventListeners.navigate.location = page;

													window.setTimeout(function()
													{
														document.documentElement.classList.remove("loading");

														history.pushState(null, title, "#" + (/\/\*$/.test(page.path)) ? "#/" + needle : page.path);

														document.dispatchEvent(App.eventListeners.navigate);
													}, duration);
												}, duration);
											});

											net.open("HEAD", App.settings.paths.content + page.filepath, true);
											net.send();
										};

										[
											"loadFragment"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.features.loadFragment = function(settings)
										{
											let defaultSettings = {
												uri: null,
												target: null
											};

											settings = App.features.extendArray(defaultSettings,settings);

											let net = new XMLHttpRequest();

											net.addEventListener("load", function(event)
											{
												let version = new Date(net.getResponseHeader("Last-Modified")).getTime();
												net = new XMLHttpRequest();

												net.addEventListener("load", function(event)
												{
													switch(event.target.status)
													{
														case 200:
															if(!settings.target) return event.target.response;
															else target.innerHTML = event.target.response;

															break;

														default:
															console.warn("Fragment load failed: server or network error.");

															break;
													}

													App.eventListeners.loadFragment.success = (event.target.status === 200) ? true : false;
													App.eventListeners.loadFragment.location = settings.uri;

													if(settings.target) App.eventListeners.loadFragment.eventTarget = settings.target;

													if(callback) document.addEventListener("loadFragment", function _callback(event)
													{
														callback(event);

														document.removeEventListener("loadFragment", _callback);
													});

													target.dispatchEvent(App.eventListeners.loadFragment);
												});

												net.addEventListener("error", function(event)
												{
													console.warn("Fragment load failed: local network error.");
												});

												net.open("GET", settings.uri + "?version=" + version, true);
												net.setRequestHeader("Content-Type", "text/html; charset=utf-8");
												net.setRequestHeader("Accept", "text/html");
												net.send();

											});

											net.addEventListener("error", function(event)
											{
												console.warn("Fragment resolution failed: local network error.");
											});

											net.open("HEAD", settings.uri, true);
											net.send();
										};

										App.features.nav = {
											create: function(settings)
											{
												let defaultSettings = {
													target: null,
													replace: false,
													classes: [],
													items: null
												};

												if((typeof settings === "object" && settings.tagName) || (typeof settings === "string" && document.querySelector(settings)))
												{
													settings = (typeof settings === "object") ? settings : document.querySelector(settings);

													settings = {
														target: settings
													};
												}

												settings = App.features.extendArray(defaultSettings,settings);
												settings.classes = (typeof settings.classes === "string") ? [settings.classes] : (typeof settings.classes === "object") ? settings.classes : [];

												if(!settings.target || !settings.target.tagName) console.warn("Could not create nav: \"target\" pair invalid or not set.");

												else
												{
													let template = document.querySelector("template[data-name='app-nav']"),
													items = [];

													let content = document.createElement("code");
													content.innerHTML = template.innerHTML;

													if(!content.querySelector("[role='navigation']")) console.warn("Could not create nav: element matching [role='navigation'] is missing.");

													else
													{
														let nav = content.querySelector("[role='navigation']");

														nav.classList.add("app");
														nav.classList.add("app-nav");

														let navButton = content.querySelector("[role='navigation-trigger']");

														if(navButton)
														{
															navButton.removeAttribute("role");
															navButton.classList.add("app");
															navButton.classList.add("nav-trigger");
														}
														
														if(!settings.items) App.sitemap.forEach(function(entry,index)
														{
															if(entry.options && entry.options.nav && Boolean(entry.options.nav))
															{
																if(!entry.path) console.warn("Could not add sitemap entry " + ((entry.name) ? "\"" + entry.name + "\" " : "" ) + "[" + index +  "]: \"path\" pair missing.");

																else
																{
																	let itemTemplate = content.querySelector("[data-name='nav-item']").cloneNode(true);
																	itemTemplate = (itemTemplate.closest("a")) ? itemTemplate.closest("a") : itemTemplate.querySelector("a");

																	if(!itemTemplate) console.warn("Could not add sitemap entry " + ((entry.name) ? "\"" + entry.name + "\" " : "" ) + "[" + index +  "]: template has no usable <a> element(s).");

																	else
																	{
																		let labelNode = (itemTemplate.closest(".label")) ? itemTemplate.closest(".label") : itemTemplate.querySelector(".label");

																		if(!labelNode) console.warn("Could not add sitemap entry " + ((entry.name) ? "\"" + entry.name + "\" " : "" ) + "[" + index +  "]: template has no designated label nodes.");

																		else
																		{
																			itemTemplate.href = ("#/" + entry.path).replace(/^#\/\//g, "#/");

																			labelNode.textContent = (entry.label) ? entry.label : (entry.name) ? entry.name : entry.path;

																			itemTemplate.removeAttribute("data-name");
																			labelNode.classList.remove("label");

																			nav.innerHTML += itemTemplate.outerHTML;
																		}
																	}
																}
															}
														});
														
														else
														{
															if(typeof settings.items !== "object") console.warn("Could not create nav: \"items\" is not an object.");
															
															else
															{
																if(!settings.items.forEach) console.warn("Could not create nav: \"items\" is an object, but not an array.");
																
																else settings.items.forEach(function(entry,index)
																{
																	if(!entry.label) console.warn("Nav entry [" + index +  "] added but incomplete: \"label\" pair missing.");

																	if(!entry.path) console.warn("Could not add nav entry [" + index +  "]: \"path\" pair missing.");
																	
																	else
																	{
																		let itemTemplate = content.querySelector("[data-name='nav-item']").cloneNode(true);
																		itemTemplate = (itemTemplate.closest("a")) ? itemTemplate.closest("a") : itemTemplate.querySelector("a");

																		if(!itemTemplate) console.warn("Could not add nav entry [" + index +  "]: template has no usable <a> element(s).");

																		else
																		{
																			let labelNode = (itemTemplate.closest(".label")) ? itemTemplate.closest(".label") : itemTemplate.querySelector(".label");

																			if(!labelNode) console.warn("Could not add nav entry [" + index +  "]: template has no designated label nodes.");

																			else
																			{
																				itemTemplate.href = ("#/" + entry.path).replace(/^#\/\//g, "#/");

																				if(entry.label && /<.+>/g.test(entry.label)) labelNode.innerHTML = entry.label;
																				else labelNode.textContent = (entry.label) ? entry.label : entry.path;

																				itemTemplate.removeAttribute("data-name");
																				labelNode.classList.remove("label");
																				
																				if(entry.options)
																				{
																					if(entry.options.classes && typeof entry.options.classes === "object" && entry.options.classes.length)
																					{
																						entry.options.classes.forEach(function(classe)
																						{
																							itemTemplate.classList.add(classe);
																						});
																					}
																				
																					if(entry.options.download) itemTemplate.setAttribute("download", "");

																					if(entry.options.external)
																					{
																						itemTemplate.href = entry.path;
																						itemTemplate.setAttribute("target", "_blank");
																					}
																				}

																				nav.innerHTML += itemTemplate.outerHTML;
																			}
																		}
																	}
																});
															}
														}

														nav.querySelector("[data-name='nav-item']").remove();

														if(!settings.replace) settings.target.innerHTML += content.innerHTML;
														else settings.target.outerHTML = content.innerHTML;
													}
												}
											},
											add: function(settings)
											{
												let defaultSettings = {
													target: null,
													items: []
												};

												settings = App.features.extendArray(defaultSettings,settings);

												if(!settings.target || !settings.target.tagName) console.warn("Could not add items to an existing nav: \"target\" pair invalid or not set.");

												else if(!settings.items || typeof items !== "object") console.warn("Could not add items to an existing nav: \"items\" pair invalid or not set.");
												
												else
												{
													
												}
											},
											remove: function(settings)
											{
												let defaultSettings = {
													target: null,
													items: []
												};

												settings = App.features.extendArray(defaultSettings,settings);

												if(!settings.target || !settings.target.tagName) console.warn("Could not remove items from an existing nav: \"target\" pair invalid or not set.");

												else if(!settings.items || typeof items !== "object") console.warn("Could not remove items from an existing nav: \"items\" pair invalid or not set.");
												
												else
												{
													
												}
											}
										};

										[
											"createDialog",
											"closeDialog",
											"showDialog",
											"hideDialog"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.features.dialog = {
											create: function(settings)
											{
												var failure = true;
												let defaultSettings = {
													airlock: true,
													closeButton: true,
													header: null,
													content: null,
													url: null,
													classes: [],
													id: null
												},
												template = document.querySelector("template[data-name='app-dialog']");

												settings = App.features.extendArray(defaultSettings,settings);
												settings.classes = (typeof settings.classes === "string") ? [settings.classes] : (typeof settings.classes === "object") ? settings.classes : [];

												[
													"dialog"
												].forEach(function(classe)
												{
													settings.classes.push(classe);
												});

												if(!template) console.warn("Could not create dialog: missing template.");

												else
												{
													template = template.cloneNode(true);
													template = template.content.querySelector("[role='dialog']");

													let verify = function()
													{
														if(!template.closest("body")) window.requestAnimationFrame(verify);

														else
														{
															settings.classes.forEach(function(classe)
															{
																template.classList.add(classe);
															});
														
															template.querySelectorAll(".close").forEach(function(element)
															{
																element.addEventListener("click", function(event)
																{
																	App.features.dialog.close(template);
																});
															});

															window.setTimeout(function()
															{
																template.setAttribute("open", "");
															}, 10);
														
															template.dispatchEvent(App.eventListeners.createDialog);
														}
													}

													if(!template.querySelector("[data-name='content']")) console.warn("Could not create dialog: content section missing in template.");

													else if(!settings.content && !settings.url) console.warn("Could not create dialog: either \"content\" or \"url\" pair are required.");
													
													else
													{
														let content = template.querySelector("[data-name='content']");
													
														if(settings.closeButton && !template.querySelector("[data-name='close-button']")) console.warn("Dialog created without close button (missing in template).");
													
														if(settings.url)
														{
															if(!/^https?:\/\//gi.test(settings.url)) settings.url = "http://" + settings.url;
														
															let net = new XMLHttpRequest();

															net.addEventListener("load", function(event)
															{
																switch(event.target.status)
																{
																	case 200:
																		failure = false;

																		content.innerHTML = event.target.response;
																		
																		template.querySelector("[data-name='header']").remove();

																		if(settings.airlock)
																		{
																			template.classList.add("has-airlock");

																			document.documentElement.classList.add("airlock");
																		}

																		if(!settings.closeButton && template.querySelector("[data-name='close-button']")) template.querySelector("[data-name='close-button']").remove();

																		if(settings.id) template.id = settings.id;

																		document.body.appendChild(template);

																		verify();

																		break;

																	case 404:
																		console.warn("Could not create dialog: URL not found.");

																		break;

																	default:
																		console.warn("Could not create dialog: Unknown network error.");

																		break;
																}
															});

															net.addEventListener("error", function(event)
															{
																console.warn("Could not create dialog: Local network error.");
															});

															net.open("GET", settings.url, true);
															net.setRequestHeader("Access-Control-Allow-Origin", "*");
															net.setRequestHeader("Content-type", "text/html; charset=utf-8");
															net.send();
														}
														
														else
														{
															if(typeof settings.content !== "object") content.innerHTML = settings.content;
															else if(settings.content.outerHTML) content.innerHTML = settings.content.outerHTML;
															else if(settings.content.tagName) content.innerHTML = settings.content.innerHTML;
															else content.innerHTML = settings.content.outerHTML;
															
															if(settings.header)
															{
																if(!template.querySelector("[data-name='header']")) console.warn("Dialog created without header (missing in template).");
																
																else
																{
																	let header = template.querySelector("[data-name='header']");
																
																	if(typeof settings.header !== "object") header.innerHTML = settings.header;
																	else if(settings.header.outerHTML) header.innerHTML = settings.header.outerHTML;
																	else if(settings.header.tagName) header.innerHTML = settings.header.innerHTML;
																	else header.innerHTML = settings.header.outerHTML;
																}
															}
															
															else
															{
																if(template.querySelector("[data-name='header']")) template.querySelector("[data-name='header']").remove();
															}
															
															if(settings.airlock)
															{
																template.classList.add("has-airlock");

																document.documentElement.classList.add("airlock");
															}

															if(!settings.closeButton && template.querySelector("[data-name='close-button']")) template.querySelector("[data-name='close-button']").remove();

															if(settings.id) template.id = settings.id;

															document.body.appendChild(template);

															verify();
														}
													}
												}
											},
											close: function(target)
											{
												let transition = (window.getComputedStyle(target).transitionDuration !== "") ? window.getComputedStyle(target).transitionDuration : 0;
												transition = (/,/gi.test(transition)) ? transition.replace(/\s?,\s?/gi,",").split(",")[0] : transition;
												transition = (transition.match(/s$/gi)) ? (Number(transition.replace(/s$/gi,"")) * 1000) : transition;

												target = (target) ? target : document.querySelector("[role~='dialog']:last-of-type");

												if(target && target.tagName && /dialog/gi.test(target.getAttribute("role")))
												{
													if(target.hasAttribute("open")) target.removeAttribute("open", "");
													
													window.setTimeout(function()
													{
														if(!document.querySelector("[role~='dialog'][open]")) document.documentElement.classList.remove("airlock");

														target.remove();

														target.dispatchEvent(App.eventListeners.closeDialog);
													}, transition);
												}
											},
											show: function(target)
											{
												if(target && target.tagName && /dialog/gi.test(target.getAttribute("role")))
												{
													if(!target.getAttribute("open")) console.warn("Dialog could not be shown (already visible).");

													else
													{
														target.setAttribute("open","");

														if(target.classList.contains("has-airlock")) document.documentElement.classList.add("airlock");

														target.dispatchEvent(App.eventListeners.showDialog);
													}
												}
												
												else console.warn("Dialog could not be shown (target doesn't exist).");
											},
											hide: function(target)
											{
												if(target && target.tagName && /dialog/gi.test(target.getAttribute("role")))
												{
													if(target.getAttribute("open")) console.warn("Dialog could not be hidden (already hidden).");
													
													else
													{
														target.removeAttribute("open");

														if(!document.querySelector("[role~='dialog'][open]")) document.documentElement.classList.remove("airlock");

														target.dispatchEvent(App.eventListeners.hideDialog);
													}
												}
												
												else console.warn("Dialog could not be hidden (target doesn't exist).");
											}
										};

									/* App Primitive Functionality */
										[
											"swipe"
										].forEach(function(eventListener)
										{
											App.features.createEventListener(eventListener);
										});

										App.touch = {
											supported: (function is_touch_device()
											{
												try
												{  
													document.createEvent("TouchEvent");  

													return true;  
												}

												catch(error)
												{  
													return false;  
												}  
											})(),
											active: false,
											swiping: false,
											modifier: 75
										};

										document.addEventListener("touchstart", function(event)
										{
											App.touch.relativeCoords = {
												start: {
													x: event.touches[0].clientX,
													y: event.touches[0].clientY
												}
											};

											App.touch.absoluteCoords = {
												start: {
													x: event.touches[0].pageX,
													y: event.touches[0].pageY
												}
											};

											App.touch.active = true;

											document.documentElement.classList.add("touching");
										}, false);

										document.addEventListener("touchmove", function(event)
										{
											App.touch.relativeCoords.end = {
												x: event.touches[0].clientX,
												y: event.touches[0].clientY
											};

											App.touch.absoluteCoords.end = {
												x: event.touches[0].pageX,
												y: event.touches[0].pageY
											};

											if(((App.touch.relativeCoords.end.x - App.touch.modifier) > App.touch.relativeCoords.start.x) || (App.touch.relativeCoords.start.x > (App.touch.relativeCoords.end.x + App.touch.modifier)) || ((App.touch.relativeCoords.end.y - App.touch.modifier) > App.touch.relativeCoords.start.y) || (App.touch.relativeCoords.start.y > (App.touch.relativeCoords.end.y + App.touch.modifier)))
											{
												App.touch.swiping = true;

												document.documentElement.classList.add("swiping");
											}
										}, false);

										document.addEventListener("touchend", function(event)
										{
											if(App.touch.swiping)
											{
												App.eventListeners.swipe.direction = [];

												if((App.touch.relativeCoords.end.y - App.touch.modifier) > App.touch.relativeCoords.start.y) App.eventListeners.swipe.direction.push("down");
												else if(App.touch.relativeCoords.start.y > (App.touch.relativeCoords.end.y + App.touch.modifier)) App.eventListeners.swipe.direction.push("up");

												if((App.touch.relativeCoords.end.x - App.touch.modifier) > App.touch.relativeCoords.start.x) App.eventListeners.swipe.direction.push("right");
												else if(App.touch.relativeCoords.start.x > (App.touch.relativeCoords.end.x + App.touch.modifier)) App.eventListeners.swipe.direction.push("left");

												App.eventListeners.swipe.direction = App.eventListeners.swipe.direction.join(" ");

												App.touch.swiping = false;

												document.documentElement.classList.remove("swiping");

												event.target.dispatchEvent(App.eventListeners.swipe);
											}

											App.touch.active = false;

											document.documentElement.classList.remove("touching");

											delete App.touch.relativeCoords;
											delete App.touch.absoluteCoords;
										}, false);

									/* Initial Path Assignment */
										for(var path in App.settings.paths) if(!/\/$/.test(App.settings.paths[path])) App.settings.paths[path] += "/";

									/* Initial Asset/Vendor Loading (CSS and JS) */
										for(var index in App.vendor)
										{
											let resource = App.vendor[index];

											resource.type = (resource.type && typeof resource.type === "string") ? resource.type.toLowerCase() : null;

											if(!resource.type) console.warn("Could not process vendor entry [" + index +  "]: \"type\" pair missing.");

											else
											{
												switch(resource.type)
												{
													default:
														console.warn("Could not process vendor entry [" + index +  "]: \"type\" pair unsupported.");

														break;

													case "css":
													case "less":
													case "scss":
													case "js":
														if(!resource.path) console.warn("Could not process vendor entry [" + index +  "]: \"path\" pair missing.");

														let net = new XMLHttpRequest();
														resource.path = App.settings.paths.vendor + resource.path;

														net.addEventListener("load", function(event)
														{
															let version = "?version=" + ((resource.version) ? resource.version : new Date(net.getResponseHeader("Last-Modified")).getTime());

															switch(event.target.status)
															{
																case 200:
																	let element;

																	switch(resource.type)
																	{
																		case "css":
																		case "less":
																		case "scss":
																			element = document.createElement("link");
																			element.rel = "stylesheet";
																			element.href = resource.path + version;

																			break;

																		case "js":
																			element = document.createElement("script");
																			element.src = resource.path + version;
																			element.async = true;

																			break;
																	}

																	element.id = (resource.name) ? resource.name + "_" + ((resource.version) ? resource.version : index) : null;
																	element.classList.add(resource.type);
																	element.classList.add("vendor");

																	document.head.appendChild(element);

																	break;

																case 404:
																	console.warn("Could not process vendor entry [" + index +  "]: File not found.");

																	break;

																default:
																	console.warn("Could not process vendor entry [" + index +  "]: Unknown network error.");

																	break;
															}
														});

														net.addEventListener("error", function(event)
														{
															console.warn("Could not process vendor entry [" + index +  "]: Local network error.");
														});

														net.open("HEAD", resource.path, true);
														net.send();

														break;
												}
											}
										};

										for(var assetType in App.assets)
										{
											App.assets[assetType].forEach(function(asset)
											{
												let net = new XMLHttpRequest();

												net.addEventListener("load", function(event)
												{
													let version = "?version=" + new Date(net.getResponseHeader("Last-Modified")).getTime(),
													type = event.target.responseURL.split(".").reverse()[0].toLowerCase();

													switch(event.target.status)
													{
														case 200:
															let element;

															switch(type)
															{
																case "css":
																case "less":
																case "scss":
																	element = document.createElement("link");
																	element.rel = "stylesheet";
																	element.href = App.settings.paths.assets + asset + version;

																	break;

																case "js":
																	element = document.createElement("script");
																	element.src = App.settings.paths.assets + asset + version;
																	element.async = true;

																	break;
															}

															element.classList.add(type);
															element.classList.add("asset");

															document.head.appendChild(element);

															break;

														case 404:
															console.warn("Could not process asset entry [" + index +  "] in \"" + assetType + "\": File not found.");

															break;

														default:
															console.warn("Could not process asset entry [" + index +  "] in \"" + assetType + "\": Unknown network error.");

															break;
													}
												});

												net.addEventListener("error", function(event)
												{
													console.warn("Could not process vendor entry [" + index +  "]: Local network error.");
												});

												net.open("HEAD", App.settings.paths.assets + asset, true);
												net.send();
											});
										};

									/* Navigation Support */
										window.addEventListener("click", function(event)
										{
											if(event.target.closest(".app.nav-trigger"))
											{
												event.preventDefault();

												document.documentElement.classList.toggle("nav");

												return false;
											}

											else if(event.target.closest(".app[role='navigation'] a")) document.documentElement.classList.remove("nav");
										});

										window.addEventListener("hashchange", function(event)
										{
											let hash = (location.hash !== "") ? location.hash : false;
											let path = (hash) ? hash.split("#/")[1] : "index";

											App.features.loadPage(path);
										});
								}

								break;

							case 404:
								throw "Manifest file could not be loaded: not found."

								break;

							default:
								throw "Manifest file could not be loaded: unknown network error.";

								break;
						}
					});

					net.addEventListener("error", function(event)
					{
						console.warn("Manifest file could not be loaded: local network error.");
					});

					net.open("GET", appManifest, true);
					net.setRequestHeader("Content-Type", "application/json; charset=utf-8");
					net.setRequestHeader("Accept", "application/json");
					net.send();
				})(new XMLHttpRequest());

				function appInit()
				{
					if(!window.App) window.setTimeout(appInit, 100);

					else (function(hash)
					{
						let path = (hash) ? hash.split("#/")[1] : "";

						App.features.loadPage(path);

						App.features.nav.create(
						{
							target: document.body
						});
					})((location.hash !== "") ? location.hash : false);
				};

				appInit();
			</script>

		<!-- Templates -->
			<template data-name="app-error-pages">
				<template data-name="app-error-page-401">
					<title>401 Not Authorized</title>

					<div class="http-error">
						<h1>401</h1>
						<p>Not Authorized</p>
					</div>
				</template>
				<template data-name="app-error-page-403">
					<title>403 Forbidden</title>

					<div class="http-error">
						<h1>403</h1>
						<p>Forbidden</p>
					</div>
				</template>
				<template data-name="app-error-page-404">
					<title>404 Page Not Found</title>

					<div class="http-error">
						<h1>404</h1>
						<p>Page Not Found</p>
					</div>
				</template>
				<template data-name="app-error-page-418">
					<title>418 Maintenance</title>

					<div class="http-error">
						<h1>418</h1>
						<p>Maintenance</p>
					</div>
				</template>
				<template data-name="app-error-page-426">
					<title>426 Upgrade Required</title>

					<div class="http-error">
						<h1>426</h1>
						<p>Upgrade Required</p>
					</div>
				</template>
				<template data-name="app-error-page-451">
					<title>451 Unavailable For Legal Reasons</title>

					<div class="http-error">
						<h1>451</h1>
						<p>Unavailable for Legal Reasons</p>
					</div>
				</template>
			</template>
			<template data-name="app-nav">
				<a href="#/" role="navigation-trigger">
					<hr><hr><hr><hr>
				</a>

				<nav role="navigation">
					<a data-name="nav-item" class="label"></a>
				</nav>
			</template>
			<template data-name="app-dialog">
				<dialog id class="dialog" role="dialog">
					<a data-name="close-button" class="close" title="close" tabindex="0">Close</a>
					<header data-name="header" class="header"></header>
					<section data-name="content" class="content"></section>
				</dialog>
			</template>
	</head>
	
	<noscript>
		<dialog class="dialog" role="dialog" open>
			<header class="header">
				<h1>Unsupported Browser or Device</h1>
			</header>
			<section class="content">
				<p>Your browser or device is unsupported, and lacks the features needed to experience this site. Please upgrade your browser or device and try again later, or visit this site with another browser or device.</p>
			</section>
		</dialog>
	</noscript>
</html>
<!-- JOTUNN -->